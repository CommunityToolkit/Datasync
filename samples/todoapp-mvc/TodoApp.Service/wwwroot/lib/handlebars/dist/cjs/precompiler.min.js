/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/handlebars@4.7.8/dist/cjs/precompiler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n.default=e,n}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _neoAsync=require("neo-async"),_neoAsync2=_interopRequireDefault(_neoAsync),_fs=require("fs"),_fs2=_interopRequireDefault(_fs),_handlebars=require("./handlebars"),Handlebars=_interopRequireWildcard(_handlebars),_path=require("path"),_sourceMap=require("source-map");function loadStrings(e,n){var a=arrayCast(e.string),t=arrayCast(e.name);if(t.length!==a.length&&a.length>1)return n(new Handlebars.Exception("Number of names did not match the number of string inputs"));_neoAsync2.default.map(a,(function(e,n){var a;"-"!==e?n(void 0,e):(a="",process.stdin.setEncoding("utf8"),process.stdin.on("data",(function(e){a+=e})),process.stdin.on("end",(function(){n(void 0,a)})))}),(function(e,a){a=a.map((function(e,n){return{name:t[n],path:t[n],source:e}})),n(e,a)}))}function loadFiles(e,n){var a=(e.extension||"handlebars").replace(/[\\^$*+?.():=!|{}\-[\]]/g,(function(e){return"\\"+e}));a=new RegExp("\\."+a+"$");var t=[],r=(e.files||[]).map((function(n){return{template:n,root:e.root}}));_neoAsync2.default.whilst((function(){return r.length}),(function(n){var o=r.shift(),i=o.template,s=o.root;_fs2.default.stat(i,(function(o,l){if(o)return n(new Handlebars.Exception('Unable to open template file "'+i+'"'));l.isDirectory()?(e.hasDirectory=!0,_fs2.default.readdir(i,(function(e,t){if(e)return n(e);t.forEach((function(e){var n=i+"/"+e;(a.test(n)||_fs2.default.statSync(n).isDirectory())&&r.push({template:n,root:s||i})})),n()}))):_fs2.default.readFile(i,"utf8",(function(r,o){if(r)return n(r);e.bom&&0===o.indexOf("\ufeff")&&(o=o.substring(1));var l=i;s?0===l.indexOf(s)&&(l=l.substring(s.length+1)):l=_path.basename(l),l=l.replace(a,""),t.push({path:i,name:l,source:o}),n()}))}))}),(function(e){e?n(e):n(void 0,t)}))}function arrayCast(e){return e=null!=e?e:[],Array.isArray(e)||(e=[e]),e}function minify(e,n){try{require.resolve("uglify-js")}catch(n){if("MODULE_NOT_FOUND"!==n.code)throw n;return console.error("Code minimization is disabled due to missing uglify-js dependency"),e}return require("uglify-js").minify(e.code,{sourceMap:{content:e.map,url:n}})}module.exports.loadTemplates=function(e,n){loadStrings(e,(function(a,t){a?n(a):loadFiles(e,(function(a,r){a?n(a):(e.templates=t.concat(r),n(void 0,e))}))}))},module.exports.cli=function(e){if(e.version)console.log(Handlebars.VERSION);else{if(!e.templates.length&&!e.hasDirectory)throw new Handlebars.Exception("Must define at least one template or directory.");if(e.simple&&e.min)throw new Handlebars.Exception("Unable to minimize simple output");var n=1!==e.templates.length||e.hasDirectory;if(e.simple&&n)throw new Handlebars.Exception("Unable to output multiple templates in simple mode");e.amd||e.commonjs||1!==e.templates.length||e.templates[0].name||(e.simple=!0);var a={};if(e.known&&!Array.isArray(e.known)&&(e.known=[e.known]),e.known)for(var t=0,r=e.known.length;t<r;t++)a[e.known[t]]=!0;var o=e.partial?"Handlebars.partials":"templates",i=new _sourceMap.SourceNode;e.simple||(e.amd?i.add("define(['"+e.handlebarPath+'handlebars.runtime\'], function(Handlebars) {\n  Handlebars = Handlebars["default"];'):e.commonjs?i.add('var Handlebars = require("'+e.commonjs+'");'):i.add("(function() {\n"),i.add("  var template = Handlebars.template, templates = "),e.namespace&&(i.add(e.namespace),i.add(" = "),i.add(e.namespace),i.add(" || ")),i.add("{};\n")),e.templates.forEach((function(t){var r={knownHelpers:a,knownHelpersOnly:e.o};e.map&&(r.srcName=t.path),e.data&&(r.data=!0);var s=Handlebars.precompile(t.source,r);if(e.map){var l=new _sourceMap.SourceMapConsumer(s.map);s=_sourceMap.SourceNode.fromStringWithSourceMap(s.code,l)}if(e.simple)i.add([s,"\n"]);else{if(!t.name)throw new Handlebars.Exception("Name missing for template");e.amd&&!n&&i.add("return "),i.add([o,"['",t.name,"'] = template(",s,");\n"])}})),e.simple||(e.amd?(n&&i.add(["return ",o,";\n"]),i.add("});")):e.commonjs||i.add("})();")),e.map&&i.add("\n//# sourceMappingURL="+e.map+"\n"),(i=i.toStringWithSourceMap()).map=i.map+"",e.min&&(i=minify(i,e.map)),e.map&&_fs2.default.writeFileSync(e.map,i.map,"utf8"),i=i.code,e.output?_fs2.default.writeFileSync(e.output,i,"utf8"):console.log(i)}};
//# sourceMappingURL=/sm/4e5de72291b9eb59146927304f5f2a8236acb499a70d1d6eb2b9b10fe2ccca0b.map