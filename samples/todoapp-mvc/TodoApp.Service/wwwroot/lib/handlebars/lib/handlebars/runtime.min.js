/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/handlebars@4.7.8/lib/handlebars/runtime.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as Utils from"./utils";import Exception from"./exception";import{COMPILER_REVISION,createFrame,LAST_COMPATIBLE_COMPILER_REVISION,REVISION_CHANGES}from"./base";import{moveHelperToHooks}from"./helpers";import{wrapHelper}from"./internal/wrapHelper";import{createProtoAccessControl,resultIsAllowed}from"./internal/proto-access";export function checkRevision(e){const t=e&&e[0]||1;if(!(t>=LAST_COMPATIBLE_COMPILER_REVISION&&t<=COMPILER_REVISION)){if(t<LAST_COMPATIBLE_COMPILER_REVISION){const e=REVISION_CHANGES[COMPILER_REVISION],o=REVISION_CHANGES[t];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+e+") or downgrade your runtime to an older version ("+o+").")}throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}export function template(e,t){if(!t)throw new Exception("No environment passed to template");if(!e||!e.main)throw new Exception("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);const o=e.compiler&&7===e.compiler[0];let r={strict:function(e,t,o){if(!e||!(t in e))throw new Exception('"'+t+'" not defined in '+e,{loc:o});return r.lookupProperty(e,t)},lookupProperty:function(e,t){let o=e[t];return null==o||Object.prototype.hasOwnProperty.call(e,t)||resultIsAllowed(o,r.protoAccessControl,t)?o:void 0},lookup:function(e,t){const o=e.length;for(let n=0;n<o;n++){if(null!=(e[n]&&r.lookupProperty(e[n],t)))return e[n][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:Utils.escapeExpression,invokePartial:function(o,r,n){n.hash&&(r=Utils.extend({},r,n.hash),n.ids&&(n.ids[0]=!0)),o=t.VM.resolvePartial.call(this,o,r,n);let a=Utils.extend({},n,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=t.VM.invokePartial.call(this,o,r,a);if(null==i&&t.compile&&(n.partials[n.name]=t.compile(o,e.compilerOptions,t),i=n.partials[n.name](r,a)),null!=i){if(n.indent){let e=i.split("\n");for(let t=0,o=e.length;t<o&&(e[t]||t+1!==o);t++)e[t]=n.indent+e[t];i=e.join("\n")}return i}throw new Exception("The partial "+n.name+" could not be compiled when running in runtime-only mode")},fn:function(t){let o=e[t];return o.decorator=e[t+"_d"],o},programs:[],program:function(e,t,o,r,n){let a=this.programs[e],i=this.fn(e);return t||n||r||o?a=wrapProgram(this,e,i,t,o,r,n):a||(a=this.programs[e]=wrapProgram(this,e,i)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){let o=e||t;return e&&t&&e!==t&&(o=Utils.extend({},t,e)),o},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function n(t,o={}){let a=o.data;n._setup(o),!o.partial&&e.useData&&(a=initData(t,a));let i,l=e.useBlockParams?[]:void 0;function s(t){return""+e.main(r,t,r.helpers,r.partials,a,l,i)}return e.useDepths&&(i=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(s=executeDecorators(e.main,s,r,o.depths||[],a,l))(t,o)}return n.isTop=!0,n._setup=function(n){if(n.partial)r.protoAccessControl=n.protoAccessControl,r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators,r.hooks=n.hooks;else{let a=Utils.extend({},t.helpers,n.helpers);wrapHelpersToPassLookupProperty(a,r),r.helpers=a,e.usePartial&&(r.partials=r.mergeIfNeeded(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=Utils.extend({},t.decorators,n.decorators)),r.hooks={},r.protoAccessControl=createProtoAccessControl(n);let i=n.allowCallsToHelperMissing||o;moveHelperToHooks(r,"helperMissing",i),moveHelperToHooks(r,"blockHelperMissing",i)}},n._child=function(t,o,n,a){if(e.useBlockParams&&!n)throw new Exception("must pass block params");if(e.useDepths&&!a)throw new Exception("must pass parent depths");return wrapProgram(r,t,e[t],o,0,n,a)},n}export function wrapProgram(e,t,o,r,n,a,i){function l(t,n={}){let l=i;return!i||t==i[0]||t===e.nullContext&&null===i[0]||(l=[t].concat(i)),o(e,t,e.helpers,e.partials,n.data||r,a&&[n.blockParams].concat(a),l)}return(l=executeDecorators(o,l,e,i,r,a)).program=t,l.depth=i?i.length:0,l.blockParams=n||0,l}export function resolvePartial(e,t,o){return e?e.call||o.name||(o.name=e,e=o.partials[e]):e="@partial-block"===o.name?o.data["partial-block"]:o.partials[o.name],e}export function invokePartial(e,t,o){const r=o.data&&o.data["partial-block"];let n;if(o.partial=!0,o.ids&&(o.data.contextPath=o.ids[0]||o.data.contextPath),o.fn&&o.fn!==noop){o.data=createFrame(o.data);let e=o.fn;n=o.data["partial-block"]=function(t,o={}){return o.data=createFrame(o.data),o.data["partial-block"]=r,e(t,o)},e.partials&&(o.partials=Utils.extend({},o.partials,e.partials))}if(void 0===e&&n&&(e=n),void 0===e)throw new Exception("The partial "+o.name+" could not be found");if(e instanceof Function)return e(t,o)}export function noop(){return""}function initData(e,t){return t&&"root"in t||((t=t?createFrame(t):{}).root=e),t}function executeDecorators(e,t,o,r,n,a){if(e.decorator){let i={};t=e.decorator(t,i,o,r&&r[0],n,a,r),Utils.extend(t,i)}return t}function wrapHelpersToPassLookupProperty(e,t){Object.keys(e).forEach((o=>{let r=e[o];e[o]=passLookupPropertyOption(r,t)}))}function passLookupPropertyOption(e,t){const o=t.lookupProperty;return wrapHelper(e,(e=>Utils.extend({lookupProperty:o},e)))}
//# sourceMappingURL=/sm/f2ee1b749c1fb05a3ac73ebd3f9a8ba2c5522e90a4e147f09b49ff293bf21473.map