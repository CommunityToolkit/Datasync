/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/handlebars@4.7.8/lib/handlebars/compiler/whitespace-control.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Visitor from"./visitor";function WhitespaceControl(t={}){this.options=t}function isPrevWhitespace(t,e,o){void 0===e&&(e=t.length);let i=t[e-1],n=t[e-2];return i?"ContentStatement"===i.type?(n||!o?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:o}function isNextWhitespace(t,e,o){void 0===e&&(e=-1);let i=t[e+1],n=t[e+2];return i?"ContentStatement"===i.type?(n||!o?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:o}function omitRight(t,e,o){let i=t[null==e?0:e+1];if(!i||"ContentStatement"!==i.type||!o&&i.rightStripped)return;let n=i.value;i.value=i.value.replace(o?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==n}function omitLeft(t,e,o){let i=t[null==e?t.length-1:e-1];if(!i||"ContentStatement"!==i.type||!o&&i.leftStripped)return;let n=i.value;return i.value=i.value.replace(o?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==n,i.leftStripped}WhitespaceControl.prototype=new Visitor,WhitespaceControl.prototype.Program=function(t){const e=!this.options.ignoreStandalone;let o=!this.isRootSeen;this.isRootSeen=!0;let i=t.body;for(let t=0,n=i.length;t<n;t++){let n=i[t],r=this.accept(n);if(!r)continue;let l=isPrevWhitespace(i,t,o),p=isNextWhitespace(i,t,o),a=r.openStandalone&&l,s=r.closeStandalone&&p,c=r.inlineStandalone&&l&&p;r.close&&omitRight(i,t,!0),r.open&&omitLeft(i,t,!0),e&&c&&(omitRight(i,t),omitLeft(i,t)&&"PartialStatement"===n.type&&(n.indent=/([ \t]+$)/.exec(i[t-1].original)[1])),e&&a&&(omitRight((n.program||n.inverse).body),omitLeft(i,t)),e&&s&&(omitRight(i,t),omitLeft((n.inverse||n.program).body))}return t},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);let e=t.program||t.inverse,o=t.program&&t.inverse,i=o,n=o;if(o&&o.chained)for(i=o.body[0].program;n.chained;)n=n.body[n.body.length-1].program;let r={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:isNextWhitespace(e.body),closeStandalone:isPrevWhitespace((i||e).body)};if(t.openStrip.close&&omitRight(e.body,null,!0),o){let o=t.inverseStrip;o.open&&omitLeft(e.body,null,!0),o.close&&omitRight(i.body,null,!0),t.closeStrip.open&&omitLeft(n.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(e.body)&&isNextWhitespace(i.body)&&(omitLeft(e.body),omitRight(i.body))}else t.closeStrip.open&&omitLeft(e.body,null,!0);return r},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(t){return t.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(t){let e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}};export default WhitespaceControl;
//# sourceMappingURL=/sm/c64215136865d17275cda161f217bd7bcb2e3f6546131d75a0adec6eb00b71ef.map