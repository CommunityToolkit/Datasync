/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/director@1.2.8/test/server/core/dispatch-test.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var assert=require("assert"),vows=require("vows"),director=require("../../../lib/director");vows.describe("director/core/dispatch").addBatch({"An instance of director.Router":{topic:function(){var o=this;o.matched={},o.matched["/"]=[],o.matched.foo=[],o.matched["f*"]=[];var e=new director.Router({"/":{before:function(){o.matched["/"].push("before /")},on:function(){o.matched["/"].push("on /")},after:function(){o.matched["/"].push("after /")}},"/foo":{before:function(){o.matched.foo.push("before foo")},on:function(){o.matched.foo.push("on foo")},after:function(){o.matched.foo.push("after foo")},"/bar":{before:function(){o.matched.foo.push("before foo bar")},on:function(){o.matched.foo.push("foo bar")},after:function(){o.matched.foo.push("after foo bar")},"/buzz":function(){o.matched.foo.push("foo bar buzz")}}},"/f*":{"/barbie":function(){o.matched["f*"].push("f* barbie")}}});return e.configure({recurse:"backward"}),e},"should have the correct routing table":function(o){assert.isObject(o.routes.foo),assert.isObject(o.routes.foo.bar),assert.isObject(o.routes.foo.bar.buzz),assert.isFunction(o.routes.foo.bar.buzz.on)},"the dispatch() method":{"/":function(o){assert.isTrue(o.dispatch("on","/")),assert.isTrue(o.dispatch("on","/")),assert.equal(this.matched["/"][0],"before /"),assert.equal(this.matched["/"][1],"on /"),assert.equal(this.matched["/"][2],"after /")},"/foo/bar/buzz":function(o){assert.isTrue(o.dispatch("on","/foo/bar/buzz")),assert.equal(this.matched.foo[0],"foo bar buzz"),assert.equal(this.matched.foo[1],"before foo bar"),assert.equal(this.matched.foo[2],"foo bar"),assert.equal(this.matched.foo[3],"before foo"),assert.equal(this.matched.foo[4],"on foo")},"/foo/barbie":function(o){assert.isTrue(o.dispatch("on","/foo/barbie")),assert.equal(this.matched["f*"][0],"f* barbie")},"/foo/barbie/":function(o){assert.isFalse(o.dispatch("on","/foo/barbie/"))},"/foo/BAD":function(o){assert.isFalse(o.dispatch("on","/foo/BAD"))},"/bar/bar":function(o){assert.isFalse(o.dispatch("on","/bar/bar"))},"with the strict option disabled":{topic:function(o){return o.configure({recurse:"backward",strict:!1})},"should have the proper configuration set":function(o){assert.isFalse(o.strict)},"/foo/barbie/":function(o){assert.isTrue(o.dispatch("on","/foo/barbie/")),assert.equal(this.matched["f*"][0],"f* barbie")},"/foo/bar/buzz":function(o){assert.isTrue(o.dispatch("on","/foo/bar/buzz")),assert.equal(this.matched.foo[0],"foo bar buzz"),assert.equal(this.matched.foo[1],"before foo bar"),assert.equal(this.matched.foo[2],"foo bar"),assert.equal(this.matched.foo[3],"before foo"),assert.equal(this.matched.foo[4],"on foo")}}}}}).export(module);
//# sourceMappingURL=/sm/0a550335944ca0bec60e06e5af384ba1667588fce4ce48ed0c219caae3a1a23e.map