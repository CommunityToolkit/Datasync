/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/director@1.2.8/test/server/http/accept-test.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var assert=require("assert"),apiEasy=require("api-easy"),director=require("../../../lib/director"),helpers=require("../helpers"),macros=helpers.macros,handlers=helpers.handlers,PORT=9067;apiEasy.describe("director/http/accept").addBatch({"An instance of `director.http.Router`":{"with routes set up":{topic:function(){var e=new director.http.Router;e.get("/json",{accept:"application/json"},handlers.respondWithOk()),e.get("/txt",{accept:"text/plain"},handlers.respondWithOk()),e.get("/both",{accept:["text/plain","application/json"]},handlers.respondWithOk()),e.get("/regex",{accept:/.+\/x\-.+/},handlers.respondWithOk()),e.get("/weird",{accept:"application/json"},(function(){this.res.writeHead(400),this.res.end()})),e.get("/weird",handlers.respondWithOk()),helpers.createServer(e).listen(PORT,this.callback)},"should be created":function(e){assert(!e)}}}}).use("localhost",PORT).discuss("with `content-type: application/json`").setHeader("content-type","application/json").get("/json").expect(200).get("/txt").expect(404).get("/both").expect(200).get("/regex").expect(404).get("/weird").expect(400).undiscuss().next().discuss("with `content-type: text/plain`").setHeader("content-type","text/plain").get("/json").expect(404).get("/txt").expect(200).get("/both").expect(200).get("/regex").expect(404).get("/weird").expect(200).undiscuss().next().discuss("with `content-type: application/x-tar-gz`").setHeader("content-type","application/x-tar-gz`").get("/json").get("/json").expect(404).get("/txt").expect(404).get("/both").expect(404).get("/regex").expect(200).get("/weird").expect(200).undiscuss().export(module);
//# sourceMappingURL=/sm/a9b8e29206bba00d89394314df8cd206f9c8e456652897e392529e59050f6da8.map